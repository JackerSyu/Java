# J14__04 正規表示式


## (1) 文句中的日期?


| 正規表示式運算元 | 意義                  |
| --------------- | -------------------- |
| .               | 任意字元              |
| \d              | 數字                 |
| [XYZ]           | X或Y或Z的字元         |
| [X]             | X字元                |
| *               | 重覆0次或多次         |
| +               | 重覆1次或多次         |
| {n}             | 重覆n次               |
| {n,m}           | 重覆n次~m次           |

```java
import java.util.regex.Matcher;
import java.util.regex.Pattern;

public class Main
{
    public static void main( String args[] ){    
        //-----------------------
        // 一段網頁內容
        //-----------------------
        String text = "<h3><a title = 'Raspberry Pi輕鬆學：遊戲創作×圖形繪製×音樂創作×程式設計×Minecraft×音樂播放器'></a></h3><p><span class='pricing'><del>$400</del> 售價: $312</span> 購買後立即進貨</p><h3><a title ='Oracle PL/SQL程式設計(暢銷回饋版)'></a></h3><p><span class='pricing'><del>$580</del> 售價: $452</span> 購買後立即進貨</p><h3><a title='街頭藝術浪潮：街上的美術館，一線藝術家、經紀畫廊、英倫現場 直擊訪談'></a></h3><p><span class='pricing'><del>$470</del> 貴賓價: $423</span> 購買後立即進貨</p>";

        //-------------------------------------
        // 檢查text是否符合某種表示式
        //-------------------------------------     
        boolean b = Pattern.matches("(.*)([$]\\s{0,2})(\\d+)(.*)", text);
        System.out.println(b); 

        //-------------------------------------
        // 列出符合的子字串
        //-------------------------------------          
        Pattern pattern = Pattern.compile("([$]\\s{0,2})(\\d+)");
        Matcher matcher = pattern.matcher(text);
		
        // 列出符合的子字串		
        while(matcher.find()){
            System.out.println(matcher.group());
        }  
        //-------------------------------------         
    }
}
```




## (2) 拆出歌詞


| 正規表示式運算元 | 意義                  |
| --------------- | -------------------- |
| .               | 任意字元              |
| \d              | 數字                 |
| [^XYZ]          | 不包括X或Y或Z的字元   |
| [^X]            | 不包括X的字元         |
| *               | 重覆0次或多次         |
| +               | 重覆1次或多次         |

```java
import java.util.regex.Matcher;
import java.util.regex.Pattern;

public class Main
{
    public static void main( String args[] ){    
        //-----------------------
        // 一段網頁內容
        //-----------------------
        String text = "<dt id='fsZx2' class='fsZx2' > 愛情的模樣</dt><dd id='fsZx3' class='fsZx3'><br />作詞：阿信<br />作曲：阿信<br />編曲：五月天<br /><br />＊你是巨大的海洋　我是雨下在你身上<br />　我失去了自己的形狀　我看到遠方　愛情的模樣<br /><br />曾經孤單的徬徨　曾經相信曾經失望<br />你穿過了重重的迷惘　那愛的慌張　終於要解放<br /><br />＃你是誰　叫我狂戀　教我勇敢的挑戰全世界<br />　在一樣的身體裡面　一樣有愛與被愛的感覺<br />　我愛誰　已無所謂　沒有誰能將愛情劃界限<br />";
        
        //-------------------------------------
        // 列出符合的子字串
        //-------------------------------------          
        Pattern pattern = Pattern.compile("(<br />)([^<]+)");
        Matcher matcher = pattern.matcher(text);
		
        // 列出符合的子字串		
        while(matcher.find()){
            String s = matcher.group();
            System.out.println(s.substring("<br />".length(), s.length()).trim());
        }  
        //-------------------------------------         
    }
}
```


## (3) 問題: 拆出歌詞
```
<br />[00:00.00]林俊傑-修煉愛情<br />[00:03.11]詞：易家揚 作曲：林俊傑<br />[00:16.54]憑什麼要失望<br />[00:23.50]藏眼淚到心臟<br />[00:28.45]往事不會說謊<br />[00:30.76]別跟它為難<br />[00:35.55]我們兩人之間<br />[00:37.78]不需要這樣<br />[00:42.12]我想<br />[00:45.67]修煉愛情的心酸<br />[00:49.25]學會放好<br />[00:50.35]以前的渴望<br />[00:53.33]我們那些信仰<br />[00:55.59]要忘記多難<br />[00:59.95]遠距離的欣賞<br />[01:01.78]近距離的迷惘<br />[01:03.56]誰說太陽<br />[01:04.59]會找到月亮<br />[01:07.51]別人有的愛<br />[01:09.44]我們不可能模仿<br />[01:14.12]修煉愛情的悲歡<br />[01:17.71]我們這些努力<br />[01:19.64]不簡單<br />[01:21.84]快樂煉成淚水<br />[01:24.01]是一種勇敢<br />[01:28.42]幾年前的幻想<br />[01:30.23]幾年後的原諒<br />[01:32.08]為一張臉<br />[01:33.11]去養一身傷<br />[01:35.99]別講想念我<br />[01:37.95]我會受不了這樣<br />[01:41.41]<br />[01:45.30]記憶它真囂張<br />[01:52.35]路燈把痛點亮<br />[01:57.38]情人一起看過<br />[01:59.66]多少次月亮<br />[02:04.41]他在天空看過<br />[02:06.74]多少次遺忘<br />[02:11.03]多少心慌<br />[02:14.54]修煉愛情的心酸<br />[02:18.10]學會放好<br />[02:19.28]以前的渴望<br />[02:22.13]我們那些信仰<br />[02:24.45]要忘記多難<br />[02:28.82]遠距離的欣賞<br />[02:30.66]近距離的迷惘<br />[02:32.39]誰說太陽<br />[02:33.46]會找到月亮<br />[02:36.34]別人有的愛<br />[02:38.30]我們不可能模仿<br />[02:42.98]修煉愛情的悲歡<br />[02:46.58]我們這些努力<br />[02:48.61]不簡單<br />[02:50.63]快樂煉成淚水<br />[02:52.90]是一種勇敢<br />[02:57.24]幾年前的幻想<br />[02:59.14]幾年後的原諒<br />[03:00.91]為一張臉<br />[03:01.89]去養一身傷<br />[03:04.91]別講想念我<br />[03:06.85]我會受不了這樣<br />[03:10.08]<br />[03:23.21]笑著說<br />[03:24.11]愛讓人瘋狂<br />[03:26.67]哭著說<br />[03:27.64]愛讓人堅強<br />[03:30.16]忘不了那個人<br />[03:32.94]就投降<br />[03:38.35]修煉愛情的悲歡<br />[03:41.68]我們這些努力<br />[03:43.64]不簡單<br />[03:45.76]快樂煉成淚水<br />[03:48.01]是一種勇敢<br />[03:52.34]幾年前的幻想<br />[03:54.20]幾年後的原諒<br />[03:55.96]為一張臉<br />[03:57.02]去養一身傷<br />[03:59.92]別講想念我<br />[04:01.87]我會受不了這樣<br />[04:06.55]幾年前的幻想<br />[04:08.40]幾年後的原諒<br />[04:10.20]為一張臉<br />[04:11.26]去養一身傷<br />[04:14.20]別講想念我<br />[04:16.11]我會受不了這樣<br />
```


## (4) 問題: 拆出氣溫
```
<th scope='row'>今日白天 12/29 12:00~12/29 18:00</th><td>17 ~ 20</td><td><img src='../../symbol/weather/gif/day/08.gif' alt='晴時多雲' title='晴時多雲'></td><td>稍有寒意</td><td>0 %</td></tr><tr><th scope='row'>今晚至明晨 12/29 18:00~12/30 06:00</th><td>14 ~ 17</td><td><img src='../../symbol/weather/gif/night/07.gif' alt='多雲時晴' title='多雲時晴'></td><td>寒冷至稍有寒意</td><td>0 %</td></tr><tr><th scope='row'>明日白天 12/30 06:00~12/30 18:00</th><td>14 ~ 23</td><td><img src='../../symbol/weather/gif/day/07.gif' alt='多雲時晴' title='多雲時晴'></td><td>寒冷至舒適</td><td>0 %</td>
```
